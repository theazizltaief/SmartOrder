<div class="header">
  <h1>üçΩÔ∏è SmartOrder</h1>
  <p>Commandez facilement depuis votre table</p>
</div>

<div class="menu-grid" data-controller="panier">
  <!-- Section des plats -->
  <div class="menu-content">
    <!-- Navigation par onglets -->
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="showTab('plats', this)">
        ü•ò Plats (<%= @plats.count %>)
      </button>
      <button class="nav-tab" onclick="showTab('boissons', this)">
        ü•§ Boissons (<%= @boissons.count %>)
      </button>
    </div>

    <!-- Plats -->
    <div id="plats-tab" class="tab-content active">
      <div class="items-grid">
        <% @plats.each do |plat| %>
          <%= render "item", plat: plat %>
        <% end %>
      </div>
    </div>

    <!-- Boissons -->
    <div id="boissons-tab" class="tab-content">
      <div class="items-grid">
        <% @boissons.each do |plat| %>
          <%= render "item", plat: plat %>
        <% end %>
      </div>
    </div>
  </div>

  <!-- Panier -->
  <%= render "panier" %>
</div>

<script>
function showTab(tabName, element) {
  // Cacher tous les onglets
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active')
  })
  
  // Retirer la classe active de tous les boutons
  document.querySelectorAll('.nav-tab').forEach(tab => {
    tab.classList.remove('active')
  })
  
  // Afficher l'onglet s√©lectionn√©
  document.getElementById(tabName + '-tab').classList.add('active')
  
  // Ajouter la classe active au bouton cliqu√©
  element.classList.add('active')
}
</script>
